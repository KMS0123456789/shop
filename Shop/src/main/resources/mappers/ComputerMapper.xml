<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ComputerMapper">
	<resultMap type="com.project.shop.computer.vo.ComputerVO" id="computerMap">
		<id property="computerNo" column="computer_no"/>
		<result property="computerTitle" column="computer_title"/>
		<result property="computerBody" column="computer_body"/>
		<result property="computerSalePrice" column="computer_sale_price"/>
		<result property="cpu" column="cpu"/>
		<result property="ssd" column="ssd"/>
		<result property="mainBoard" column="main_board"/>
		<result property="gpu" column="gpu"/>
		<result property="power" column="power"/>
		<result property="bCase" column="b_case"/>
		<result property="ram" column="ram"/>
		<result property="cooler" column="cooler"/>
		<result property="computerStock" column="computer_stock"/>
		<result property="computerOutFlag" column="computer_out_flag"/>
		<result property="computerSaleDate" column="computer_sale_date"/>
		<result property="computerCreateDate" column="computer_create_date"/>
	</resultMap>
	
	<!-- 완제품 전체 조회 -->
	<select id="computer" resultMap="computerMap">
		select * from computer
		<!-- where 태그 쓸 때는 where가 있다 생각하고 and부터 쓴다 -->
		<where>
			<if test="searchType != null and searchType != '' and keyword != null and keyword != ''">
				and ${searchType} like concat('%',#{keyword},'%')
			</if>
		</where>
		order by computer_no desc
		limit #{offset}, #{limit}
	</select>
	
	<!-- 완제품 전체 개수 조회 -->
	<select id="count" resultType="int">
		select count(*) from computer
		<where>
			<if test="searchType != null and searchType != '' and keyword != null and keyword != ''">
				and ${searchType} like concat('%',#{keyword},'%')
			</if>
		</where>
	</select>
</mapper>